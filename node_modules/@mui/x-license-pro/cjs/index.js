"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./generateLicense-c091cf37.js"),t=require("@mui/utils");function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var n,s=r(require("react"));t.ponyfillGlobal.__MUI_LICENSE_INFO__=t.ponyfillGlobal.__MUI_LICENSE_INFO__||{key:void 0,releaseInfo:void 0};class i{static getKey(){return t.ponyfillGlobal.__MUI_LICENSE_INFO__.key}static getReleaseInfo(){return t.ponyfillGlobal.__MUI_LICENSE_INFO__.releaseInfo}static setLicenseKey(e){t.ponyfillGlobal.__MUI_LICENSE_INFO__.key=e}static setReleaseInfo(e){t.ponyfillGlobal.__MUI_LICENSE_INFO__.releaseInfo=e}}function o(e){console.error(["************************************************************","*************************************************************","",...e,"","*************************************************************","*************************************************************"].join("\n"))}function a(){o(["MUI: Invalid license.","","Your license for MUI X is not valid, please visit","https://mui.com/r/x-license to get a valid license."])}function c(){o(["MUI: License key not found.","","This is a trial-only version of MUI X.","While all the features are unlocked, it is not licensed for","development use on projects intended for production.","","To purchase a license, please visit","https://mui.com/r/x-license to get a valid license."])}function l(){o(["MUI: License key expired.","","Please visit https://mui.com/r/x-license to renew","your subscription and get the latest version of MUI X."])}exports.LicenseStatus=void 0,(n=exports.LicenseStatus||(exports.LicenseStatus={})).NotFound="NotFound",n.Invalid="Invalid",n.Expired="Expired",n.Valid="Valid";const u=/^.*EXPIRY=([0-9]+),.*$/;function p(t,r){if(!t)throw new Error("MUI: The release information is missing. Not able to validate license.");if(!r)return exports.LicenseStatus.NotFound;const n=r.substr(0,32),s=r.substr(32);if(n!==e.md5(s))return exports.LicenseStatus.Invalid;const i=e.base64Decode(s);let o=0;try{if(o=parseInt(i.match(u)[1],10),!o||Number.isNaN(o))return console.error("Error checking license. Expiry timestamp not found or invalid!"),exports.LicenseStatus.Invalid}catch(e){return console.error("Error extracting license expiry timestamp.",e),exports.LicenseStatus.Invalid}const a=parseInt(e.base64Decode(t),10);if(Number.isNaN(a))throw new Error("MUI: The release information is invalid. Not able to validate license.");return o<a?exports.LicenseStatus.Expired:exports.LicenseStatus.Valid}exports.generateLicence=e.generateLicence,exports.LicenseInfo=i,exports.generateReleaseInfo=function(){const t=new Date;return t.setHours(0,0,0,0),e.base64Encode(t.getTime().toString())},exports.showExpiredLicenseError=l,exports.showInvalidLicenseError=a,exports.showNotFoundLicenseError=c,exports.useLicenseVerifier=function(){return s.useMemo((()=>{const e=p(i.getReleaseInfo(),i.getKey());return e===exports.LicenseStatus.Invalid?a():e===exports.LicenseStatus.NotFound?c():e===exports.LicenseStatus.Expired&&l(),e}),[])},exports.verifyLicense=p;
